(function(a,i){var r=i.documentElement;var n="Fluid_Color_Scheme";var e="--color-mode";var d="data-user-color-scheme";var v="data-default-color-scheme";var g="#color-toggle-btn";var u="#color-toggle-icon";function m(t,e){try{localStorage.setItem(t,e)}catch(t){}}function t(t){try{localStorage.removeItem(t)}catch(t){}}function h(t){try{return localStorage.getItem(t)}catch(t){return null}}function S(){var t=r.getAttribute(v);if(typeof t==="string"){return t.replace(/["'\s]/g,"")}return null}function y(){var t=getComputedStyle(r).getPropertyValue(e);if(typeof t==="string"){return t.replace(/["'\s]/g,"")}return null}function A(){r.setAttribute(d,c());t(n)}var o={dark:true,light:true};function c(){var t=S();if(o[t]){return t}t=y();if(o[t]){return t}var e=(new Date).getHours();if(e>=18||e>=0&&e<=6){return"dark"}return"light"}function l(t){var e=t||h(n)||c();if(e===c()){A()}else if(o[e]){r.setAttribute(d,e)}else{A();return}p(e);k(e)}var s={dark:"light",light:"dark"};function f(t){return"icon-"+t}function b(){var t=h(n);if(o[t]){t=s[t]}else if(t===null){var e=i.querySelector(u);if(e){t=e.getAttribute("data")}if(!e||!o[t]){t=s[y()]}}else{return}m(n,t);return t}function p(e){if(o[e]){var r=f("dark");if(e){r=f(e)}var t=i.querySelector(u);if(t){t.setAttribute("class","iconfont "+r);t.setAttribute("data",s[e])}else{Fluid.utils.waitElementLoaded(u,function(){var t=i.querySelector(u);if(t){t.setAttribute("class","iconfont "+r);t.setAttribute("data",s[e])}})}}}function k(t){if(a.REMARK42){a.REMARK42.changeTheme(t)}if(a.CUSDIS){a.CUSDIS.setTheme(t)}var e=i.querySelector(".utterances-frame");if(e){var r=a.UtterancesThemeLight;if(t==="dark"){r=a.UtterancesThemeDark}const n={type:"set-theme",theme:r};e.contentWindow.postMessage(n,"https://utteranc.es")}}l();Fluid.utils.waitElementLoaded(u,function(){l();var t=i.querySelector(g);if(t){t.addEventListener("click",function(){l(b())});var e=i.querySelector(u);if(e){t.addEventListener("mouseenter",function(){var t=e.getAttribute("data");e.classList.replace(f(s[t]),f(t))});t.addEventListener("mouseleave",function(){var t=e.getAttribute("data");e.classList.replace(f(t),f(s[t]))})}}})})(window,document);